# Проект тестового задания от Clevertec - Check, ветка `feature/entry-database`

Этот проект представляет собой систему консольное приложение, реализующее функционал формирования чека в магазине. В данной ветке добавлены новые аргументы командной строки, позволяющие c данными не из файлов, а из базы данных PostgreSQL.

## Стек
* Java 21
* Gradle
* Apache Commons CSV
* Lombok
* PostgreSQL
* JDBC

## Установка

1. Склонируйте репозиторий:
   ```git clone https://github.com/AlexisIndustries/clevertec-check-project.git```
2. Распакуйте проект
3. Соберите проект: ```./gradlew build```
4. Итоговый файл будет лежать по пути: ```build\libs\...```
5. Перед запуском исполнить команды в БД из файла `src/main/resources/data.sql`

## Функциональность
Данная программа является консольной, поэтому ниже представлен перечень аргументов:

* `id-quantity` - связка, указывающая на айди товара и его количество. Должен быть хотя бы один такой параметр, пример: `2-3`.
* `discountCard=xxxx` - дисконтная карта, оптиональный параметр, состоит из 4 цифр.
* `balanceDebitCard=xxxx` - баланс на карте, обязательный параметр, может быть и положительным, и отрицательным, а также дробным, например `1.21`.
* `saveToFile` - путь для сохранения результата.
* `datasource.url` - строка, содержащая адрес для подключения к БД
* `datasource.username` - строка, содержащая имя пользователя для подключения к БД
* `datasource.password` - строка, содержащая пароль для подключения к БД

Результат выполнения записывается в файл `result.csv` по умолчанию, однако может быть записан в другой файл в иной директории.

## Пример использования

`java *.jar 3-1 2-5 5-1 discountCard=1111 balanceDebitCard=100 saveToFile=./result.csv
datasource.url=jdbc:postgresql://localhost:5432/check datasource.username=postgres datasource.password=postgres`

## Автор

Бобрович Алексей Олегович

## Лицензия

Данный проект не имеет лицензии
